'\" t
.\"     Title: ntploggps
.\"    Author: [see the "AUTHORS" section]
.\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
.\"      Date: 06/07/2021
.\"    Manual: NTPsec
.\"    Source: NTPsec 1.2.1+
.\"  Language: English
.\"
.TH "NTPLOGGPS" "1" "06/07/2021" "NTPsec 1\&.2\&.1+" "NTPsec"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
ntploggps \- log gpsd data
.SH "SYNOPSIS"
.sp
.nf
ntploggps [\-h] [\-l LOGFILE] [\-o] [\-w WAIT] [\-v] [\-V]
.fi
.sp
.nf
\-h, \-\-help            show this help message and exit
\-l LOGFILE, \-\-logfile LOGFILE
                      append log data to LOGFILE instead of stdout
\-o, \-\-once            log one line, then exit
\-w WAIT, \-\-wait WAIT  wait WAIT seconds after each log line, default 5
\-v, \-\-verbose         be verbose
\-V, \-\-version         show program\*(Aqs version number and exit
.fi
.SH "DESCRIPTION"
.sp
ntploggps connects to a local gpsd daemon and logs the number of satellites in use and the Time Dilution of Precision (TDOP)\&. ntploggps can run as any user, no special privileges are required\&.
.sp
The default is to write the data to stdout about once every 5 seconds\&. The log file looks like:
.sp
.if n \{\
.RS 4
.\}
.nf
# Time       Device     TDOP     nSat
1483668619\&.0 /dev/ttyS0 0\&.820000 7
1483668624\&.0 /dev/ttyS0 0\&.820000 7
1483668629\&.0 /dev/ttyS0 0\&.820000 7
.fi
.if n \{\
.RE
.\}
.sp
Time is the POSIX time of when the log line is written\&.
.sp
Device is the GPS device the data came from\&.
.sp
TDOP is the Time Dilution of Precision as reported by the GPS\&. Some GPS always output a static TDOP\&.
.sp
nSat is the number of satellites in use\&.
.SH "OPTIONS"
.PP
\-h, \-\-help
.RS 4
Displays usage information and exits\&.
.RE
.PP
\-l LOGFILE, \-\-logfile LOGFILE
.RS 4
Append log data to LOGFILE instead of stdout
.RE
.PP
\-o, \-\-once
.RS 4
Log one line, then exit\&.
.RE
.PP
\-v, \-\-verbose
.RS 4
Be verbose
.RE
.PP
\-w WAIT, \-\-wait WAIT
.RS 4
Wait WAIT seconds after each log line\&. The default is 5 seconds\&. This is just the minimum wait time\&. gpsd may be reporting data at a much slower interval\&.
.RE
.PP
\-V, \-\-version
.RS 4
show program\(cqs version number and exit
.RE
.SH "USAGE"
.PP
ntploggps
.RS 4
This the simplest use of this program\&. It can be used to check the status of the local gpsd daemon\&.
.RE
.PP
ntploggps \-l /var/log/ntpstats/gpsd \-w 60 &
.RS 4
This will continuously log the gpsd data in the background to the file /var/log/ntpstats/gpsd\&. Only log every 60 seconds\&.
.RE
.SH "EXIT STATUS"
.sp
One of the following exit values will be returned:
.PP
0 (EXIT_SUCCESS)
.RS 4
Successful program execution\&.
.RE
.PP
1 (EXIT_FAILURE)
.RS 4
The operation failed or the command syntax was not valid\&.
.RE
.SH "AUTHORS"
.sp
Gary E\&. Miller
.SH "EXIT STATUS"
.sp
One of the following exit values will be returned:
.PP
0 (EXIT_SUCCESS)
.RS 4
Successful program execution\&.
.RE
.PP
1 (EXIT_FAILURE)
.RS 4
The operation failed or the command syntax was not valid\&.
.RE
