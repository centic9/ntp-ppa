'\" t
.\"     Title: ntpwait
.\"    Author: [see the "AUTHOR(S)" section]
.\" Generator: Asciidoctor 2.0.12
.\"      Date: 2022-12-29
.\"    Manual: NTPsec
.\"    Source: NTPsec
.\"  Language: English
.\"
.TH "NTPWAIT" "8" "2022-12-29" "NTPsec" "NTPsec"
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.ss \n[.ss] 0
.nh
.ad l
.de URL
\fI\\$2\fP <\\$1>\\$3
..
.als MTO URL
.if \n[.g] \{\
.  mso www.tmac
.  am URL
.    ad l
.  .
.  am MTO
.    ad l
.  .
.  LINKSTYLE blue R < >
.\}
.SH "NAME"
ntpwait \- wait for ntpd to stabilize the system clock
.SH "SYNOPSIS"
.sp
\f(CRntpwait\fP [\f(CR\-vV\fP] [\f(CR\-n\fP \fInumber\fP] [\f(CR\-s\fP \fIsecs\fP]
.SH "DESCRIPTION"
.sp
The \f(CRntpwait\fP program blocks until ntpd is in synchronized state. This
can be useful at boot time, to delay the boot sequence until after "ntpd
\-g" has set the time.
.sp
\f(CRntpwait\fP will send at most \fInumber\fP queries to ntpd(8), sleeping
for \fIsecs\fP seconds after each status return that says ntpd(8) has not
yet produced a synchronized and stable system clock.
.sp
\f(CRntpwait\fP will do this quietly, unless the \f(CR\-v\fP flag is provided.
.SH "OPTIONS"
.sp
\f(CR\-n\fP \fInumber\fP, \f(CR\-\-tries\fP=\fInumber\fP
.RS 4
Number of times to check ntpd. This option takes an integer number as
its argument. The default \fInumber\fP for this option is: 100.
.sp
The maximum number of times we will check \fIntpd\fP to see if it has been
able to synchronize and stabilize the system clock.
.RE
.sp
\f(CR\-s\fP \fIsecs\-between\-tries\fP, \f(CR\-\-sleep\fP=\fIsecs\-between\-tries\fP
.RS 4
How long to sleep between tries. This option takes an integer number
as its argument. The default \fIsecs\-between\-tries\fP for this option
is: 6.
.sp
We will sleep for \fIsecs\-between\-tries\fP after each query of \fIntpd\fP that
returns "the time is not yet stable".
.RE
.sp
\f(CR\-v\fP, \f(CR\-\-verbose\fP
.RS 4
Be verbose.
.sp
By default, \f(CRntpwait\fP is silent. With this option, \f(CRntpwait\fP will
provide status information, including time to synchronization in seconds.
.RE
.sp
\f(CR\-V\fP, \f(CR\-\-version\fP
.RS 4
Print the version string and exit.
.RE
.SH "BUGS"
.sp
If you are running Python at a version older than 3.3, the report on time
to synchronization may be thrown off by NTP clock stepping.
.SH "EXIT STATUS"
.sp
One of the following exit values will be returned:
.sp
0
.RS 4
Successful program execution.
.RE
.sp
1
.RS 4
The operation failed or the command syntax was not valid.
.RE
.sp
2
.RS 4
Operation was interrupted by signal.
.RE