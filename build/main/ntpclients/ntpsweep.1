'\" t
.\"     Title: ntpsweep
.\"    Author: [see the "AUTHOR(S)" section]
.\" Generator: Asciidoctor 2.0.12
.\"      Date: 2022-12-29
.\"    Manual: NTPsec
.\"    Source: NTPsec
.\"  Language: English
.\"
.TH "NTPSWEEP" "1" "2022-12-29" "NTPsec" "NTPsec"
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.ss \n[.ss] 0
.nh
.ad l
.de URL
\fI\\$2\fP <\\$1>\\$3
..
.als MTO URL
.if \n[.g] \{\
.  mso www.tmac
.  am URL
.    ad l
.  .
.  am MTO
.    ad l
.  .
.  LINKSTYLE blue R < >
.\}
.SH "NAME"
ntpsweep \- print various information about given NTP servers
.SH "SYNOPSIS"
.sp
\f(CRntpsweep\fP [\f(CR\-V\fP | \f(CR\-\-version\fP] [\f(CR\-l\fP \fIhost\fP]... [\-p] [\f(CR\-m\fP \fInumber\fP] [\f(CR\-s\fP \fIprefix\fP] [\f(CR\-h\fP \fIstring\fP] [hostfile...]
.SH "DESCRIPTION"
.sp
\f(CRntpsweep\fP prints per host the NTP stratum level, the clock offset in
seconds, the daemon version, the operating system and the processor.
Optionally recursing through all peers.
.sp
If no hosts are specified, \f(CRntpsweep\fP reports on localhost.
.sp
\f(CRntpsweep\fP relies on \f(CRntpq\fP and Mode 6 queries to probe servers.  This
depends on the remote host\(cqs \fIrestrict\fP configuration allowing
queries. Nowadays effectively all public hosts set \fInoquery\fP, so this
script is unlikely to be useful unless you have multiple specially\-
configured timeservers on a LAN.
.SH "OPTIONS"
.sp
\f(CR\-l\fP string, \f(CR\-\-host\-list\fP=\fIstring\fP
.RS 4
Host to execute actions on. This option may appear an unlimited number
of times.
.sp
Use this option to specify the host on which this script operates. May
appear multiple times.  Multiple hosts may be specified, delimited
by commas.
.RE
.sp
\f(CR\-p\fP, \f(CR\-\-peers\fP
.RS 4
Recursively list all peers a host synchronizes to.
.RE
.sp
\f(CR\-m\fP number, \f(CR\-\-maxlevel\fP=\fInumber\fP
.RS 4
Traverse peers up to this level (4 is a reasonable number). This
option takes an integer number as its argument.
.RE
.sp
\f(CR\-s\fP string, \f(CR\-\-strip\fP=\fIstring\fP
.RS 4
Strip this string from hostnames.
.RE
.sp
\f(CR\-h\fP string, \f(CR\-\-host\fP=\fIstring\fP
.RS 4
Specify a single host.  Deprecated option for backwards compatibility.
.RE
.sp
\f(CR\-V\fP, \f(CR\-\-version\fP
.RS 4
Print the version string and exit.
.RE
.sp
If hostfiles are specified, they are treated as lists of hostnames
to be swept, one per line.
.SH "EXIT STATUS"
.sp
One of the following exit values will be returned:
.sp
0 (EXIT_SUCCESS)
.RS 4
Successful program execution.
.RE
.sp
1 (EXIT_FAILURE)
.RS 4
The operation failed or the command syntax was not valid.
.RE