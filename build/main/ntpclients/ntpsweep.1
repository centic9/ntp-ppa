'\" t
.\"     Title: ntpsweep
.\"    Author: [FIXME: author] [see http://docbook.sf.net/el/author]
.\" Generator: DocBook XSL Stylesheets v1.79.1 <http://docbook.sf.net/>
.\"      Date: 06/07/2021
.\"    Manual: NTPsec
.\"    Source: NTPsec 1.2.1+
.\"  Language: English
.\"
.TH "NTPSWEEP" "1" "06/07/2021" "NTPsec 1\&.2\&.1+" "NTPsec"
.\" -----------------------------------------------------------------
.\" * Define some portability stuff
.\" -----------------------------------------------------------------
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.\" http://bugs.debian.org/507673
.\" http://lists.gnu.org/archive/html/groff/2009-02/msg00013.html
.\" ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
.ie \n(.g .ds Aq \(aq
.el       .ds Aq '
.\" -----------------------------------------------------------------
.\" * set default formatting
.\" -----------------------------------------------------------------
.\" disable hyphenation
.nh
.\" disable justification (adjust text to left margin only)
.ad l
.\" -----------------------------------------------------------------
.\" * MAIN CONTENT STARTS HERE *
.\" -----------------------------------------------------------------
.SH "NAME"
ntpsweep \- print various information about given NTP servers
.SH "SYNOPSIS"
.sp
ntpsweep [\-V | \-\-version] [\-l \fIhost\fR]\&... [\-p] [\-m \fInumber\fR] [\-s \fIprefix\fR] [\-h \fIstring\fR] [hostfile\&...]
.SH "DESCRIPTION"
.sp
ntpsweep prints per host the NTP stratum level, the clock offset in seconds, the daemon version, the operating system and the processor\&. Optionally recursing through all peers\&.
.sp
If no hosts are specified, ntpsweep reports on localhost\&.
.sp
ntpsweep relies on ntpq and Mode 6 queries to probe servers\&. This depends on the remote host\(cqs \fIrestrict\fR configuration allowing queries\&. Nowadays effectively all public hosts set \fInoquery\fR, so this script is unlikely to be useful unless you have multiple specially\- configured timeservers on a LAN\&.
.SH "OPTIONS"
.PP
\-l string, \-\-host\-list=\fIstring\fR
.RS 4
Host to execute actions on\&. This option may appear an unlimited number of times\&.
.sp
Use this option to specify the host on which this script operates\&. May appear multiple times\&. Multiple hosts may be specified, delimited by commas\&.
.RE
.PP
\-p, \-\-peers
.RS 4
Recursively list all peers a host synchronizes to\&.
.RE
.PP
\-m number, \-\-maxlevel=\fInumber\fR
.RS 4
Traverse peers up to this level (4 is a reasonable number)\&. This option takes an integer number as its argument\&.
.RE
.PP
\-s string, \-\-strip=\fIstring\fR
.RS 4
Strip this string from hostnames\&.
.RE
.PP
\-h string, \-\-host=\fIstring\fR
.RS 4
Specify a single host\&. Deprecated option for backwards compatibility\&.
.RE
.PP
\-V, \-\-version
.RS 4
Print the version string and exit\&.
.RE
.sp
If hostfiles are specified, they are treated as lists of hostnames to be swept, one per line\&.
.SH "EXIT STATUS"
.sp
One of the following exit values will be returned:
.PP
0 (EXIT_SUCCESS)
.RS 4
Successful program execution\&.
.RE
.PP
1 (EXIT_FAILURE)
.RS 4
The operation failed or the command syntax was not valid\&.
.RE
